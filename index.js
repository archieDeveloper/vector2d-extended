(function(){"use strict";var t;t=function(){function t(r,n){return this instanceof t?(this.x=r||0,void(this.y=n||0)):new t(r,n)}var r,n,e,i,o,u;return e={add:function(t,r){return t+r},subtract:function(t,r){return t-r},multiply:function(t,r){return t*r},divide:function(t,r){return t/r},self:function(t){return t}},u=function(r,n,e,i){var u,s;return u=null!=e?o("x",2,r,n,e):0,s=null!=i?o("y",2,r,n,i):0,new t(u,s)},o=function(t,n,e,i,o){var u,s,p,a,h,y;if(s=e.length,n>s)throw new Error;for(u=r(e[0],i[0],t),a=h=1,y=s;y>=1?y>h:h>y;a=y>=1?++h:--h)p=r(e[a],i[n-1],t),u=o(u,p);return u},i=function(t,r,e,i,o){return null!=i&&(this.x=n.apply(this,["x",r,t,e,i])),null!=o&&(this.y=n.apply(this,["y",r,t,e,o])),this},n=function(t,n,e,i,o){var u,s,p,a,h,y;if(s=e.length,n>s)throw new Error;for(u=this[t],a=h=0,y=s;y>=0?y>h:h>y;a=y>=0?++h:--h)p=r(e[a],i[n-1],t),u=o(u,p);return u},r=function(t,r,n){var e;if("string"==typeof r){if(typeof t!==r)throw new TypeError;e=t}else{if(!(t instanceof r))throw new TypeError;e=t[n]}return e},Object.defineProperty(t,"ZERO",{get:function(){return new t},set:function(){throw new Error}}),Object.defineProperty(t,"ONE",{get:function(){return new t(1,1)},set:function(){throw new Error}}),Object.defineProperty(t,"UP",{get:function(){return new t(0,-1)},set:function(){throw new Error}}),Object.defineProperty(t,"DOWN",{get:function(){return new t(0,1)},set:function(){throw new Error}}),Object.defineProperty(t,"RIGHT",{get:function(){return new t(1,0)},set:function(){throw new Error}}),Object.defineProperty(t,"LEFT",{get:function(){return new t(-1,0)},set:function(){throw new Error}}),t.clampMagnitude=function(r,n){var e;if(!(r instanceof t)||"number"!=typeof n)throw new TypeError;return e=r.clone(),e.magnitudeSquared>n*n&&(e.magnitude=n),e},t.lerp=function(r,n,e){if(!(r instanceof t&&n instanceof t&&"number"==typeof e))throw new TypeError;return 0>e&&(e=0),e>1&&(e=1),new t(r.x+(n.x-r.x)*e,r.y+(n.y-r.y)*e)},t.scale=function(){return u(arguments,[t,t],e.multiply,e.multiply)},t.scaleX=function(){return u(arguments,[t,t],e.multiply)},t.scaleY=function(){return u(arguments,[t,t],null,e.multiply)},t.add=function(){return u(arguments,[t,t],e.add,e.add)},t.addX=function(){return u(arguments,[t,t],e.add)},t.addY=function(){return u(arguments,[t,t],null,e.add)},t.subtract=function(){return u(arguments,[t,t],e.subtract,e.subtract)},t.subtractX=function(){return u(arguments,[t,t],e.subtract)},t.subtractY=function(){return u(arguments,[t,t],null,e.subtract)},t.multiply=function(){return u(arguments,[t,"number"],e.multiply,e.multiply)},t.multiplyX=function(){return u(arguments,[t,"number"],e.multiply,e.self)},t.multiplyY=function(){return u(arguments,[t,"number"],e.self,e.multiply)},t.divide=function(){return u(arguments,[t,"number"],e.divide,e.divide)},t.divideX=function(){return u(arguments,[t,"number"],e.divide,e.self)},t.divideY=function(){return u(arguments,[t,"number"],e.self,e.divide)},t.normalize=function(r){var n;if(!(r instanceof t))throw new TypeError;return n=r.magnitude,new t(r.x/n,r.y/n)},t.project=function(r,n){var e;if(!(r instanceof t&&n instanceof t))throw new TypeError;return e=(r.x*n.x+r.y*n.y)/(n.x*n.x+n.y*n.y),new t(n.x*e,n.y*e)},t.round=function(r){if(!(r instanceof t))throw new TypeError;return new t(Math.round(r.x),Math.round(r.y))},t.roundX=function(r){if(!(r instanceof t))throw new TypeError;return new t(Math.round(r.x),r.y)},t.roundY=function(r){if(!(r instanceof t))throw new TypeError;return new t(r.x,Math.round(r.y))},t.invert=function(r){if(!(r instanceof t))throw new TypeError;return new t(-r.x,-r.y)},t.invertX=function(r){if(!(r instanceof t))throw new TypeError;return new t(-r.x,r.y)},t.invertY=function(r){if(!(r instanceof t))throw new TypeError;return new t(r.x,-r.y)},t.prototype.add=function(){return this.addX.apply(this,arguments),this.addY.apply(this,arguments),this},t.prototype.addX=function(){return i.apply(this,[arguments,1,[t],e.add,null])},t.prototype.addY=function(){return i.apply(this,[arguments,1,[t],null,e.add])},t.prototype.subtract=function(){return this.subtractX.apply(this,arguments),this.subtractY.apply(this,arguments),this},t.prototype.subtractX=function(){return i.apply(this,[arguments,1,[t],e.subtract,null])},t.prototype.subtractY=function(){return i.apply(this,[arguments,1,[t],null,e.subtract])},t.prototype.multiply=function(){return this.multiplyX.apply(this,arguments),this.multiplyY.apply(this,arguments),this},t.prototype.multiplyX=function(){return i.apply(this,[arguments,1,["number"],e.multiply,null])},t.prototype.multiplyY=function(){return i.apply(this,[arguments,1,["number"],null,e.multiply])},t.prototype.divide=function(){return this.divideX.apply(this,arguments),this.divideY.apply(this,arguments),this},t.prototype.divideX=function(t){return i.apply(this,[arguments,1,["number"],e.divide,null])},t.prototype.divideY=function(t){return i.apply(this,[arguments,1,["number"],null,e.divide])},t.prototype.normalize=function(){return this.length=1,this},t.prototype.project=function(r){var n;if(!(r instanceof t))throw new TypeError;return n=(this.x*r.x+this.y*r.y)/(r.x*r.x+r.y*r.y),this.x=r.x*n,this.y=r.y*n,this},t.prototype.round=function(){return this.roundX(),this.roundY(),this},t.prototype.roundX=function(){return this.x=Math.round(this.x),this},t.prototype.roundY=function(){return this.y=Math.round(this.y),this},t.prototype.zero=function(){return this.zeroX(),this.zeroY(),this},t.prototype.zeroX=function(){return this.x=0,this},t.prototype.zeroY=function(){return this.y=0,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.equate=function(r){if(!(r instanceof t))throw new TypeError;return this.equateX(r),this.equateY(r),this},t.prototype.equateX=function(r){if(!(r instanceof t))throw new TypeError;return this.x=r.x,this},t.prototype.equateY=function(r){if(!(r instanceof t))throw new TypeError;return this.y=r.y,this},t.prototype.invert=function(){return this.invertX(),this.invertY(),this},t.prototype.invertX=function(){return this.x=-this.x,this},t.prototype.invertY=function(){return this.y=-this.y,this},t.prototype.lerp=function(r,n){if(!(r instanceof t)||"number"!=typeof r)throw new TypeError;return 0>n&&(n=0),n>1&&(n=1),this.x=this.x+(r.x-this.x)*n,this.y=this.y+(r.y-this.y)*n,this},t.prototype.scale=function(){return this.scaleX.apply(this,arguments),this.scaleY.apply(this,arguments),this},t.prototype.scaleX=function(){return i.apply(this,[arguments,1,[t],e.multiply,null])},t.prototype.scaleY=function(){return i.apply(this,[arguments,1,[t],null,e.multiply])},t.prototype.clampMagnitude=function(t){if("number"!=typeof t)throw new TypeError;return this.magnitudeSquared>t*t&&(this.magnitude=t),this},Object.defineProperty(t.prototype,"magnitude",{get:function(){return Math.sqrt(this.magnitudeSquared)},set:function(t){var r;if("number"!=typeof t)throw new TypeError;return r=this.magnitude,this.x=this.x/r*t,this.y=this.y/r*t,t}}),Object.defineProperty(t.prototype,"magnitudeSquared",{get:function(){return this.x*this.x+this.y*this.y},set:function(t){if("number"!=typeof t)throw new TypeError;return this.length=Math.sqrt(t),t}}),Object.defineProperty(t.prototype,"length",{get:function(){return this.magnitude},set:function(t){if("number"!=typeof t)throw new TypeError;return this.magnitude=t}}),Object.defineProperty(t.prototype,"lengthSquared",{get:function(){return this.magnitudeSquared},set:function(t){if("number"!=typeof t)throw new TypeError;return this.magnitudeSquared=t}}),Object.defineProperty(t.prototype,"rotate",{get:function(){return 180*Math.atan2(this.y,this.x)/Math.PI},set:function(t){var r;if("number"!=typeof t)throw new TypeError;return r=this.magnitude,this.x=Math.cos(t*Math.PI/180)*r,this.y=Math.sin(t*Math.PI/180)*r,t}}),t.prototype.dot=function(r){if(!(r instanceof t))throw new TypeError;return this.x*r.x+this.y*r.y},t.prototype.cross=function(r){if(!(r instanceof t))throw new TypeError;return this.x*r.y-this.y*r.x},t.prototype.distance=function(r){if(!(r instanceof t))throw new TypeError;return Math.sqrt(distanceSquared(r))},t.prototype.distanceSquared=function(r){var n,e;if(!(r instanceof t))throw new TypeError;return n=this.x-r.x,e=this.y-r.y,n*n+e*e},t.prototype.angle=function(r){var n,e,i;if(!(r instanceof t))throw new TypeError;return n=this.magnitude,e=r.magnitude,i=this.x/n*(r.x/e)+this.y/n*(r.y/e),-1>i&&(i=-1),i>1&&(i=1),57.29578*Math.acos(i)},t.prototype.areaTriangle=function(r){if(!(r instanceof t))throw new TypeError;return this.areaParallelogram(r)/2},t.prototype.areaParallelogram=function(r){if(!(r instanceof t))throw new TypeError;return Math.abs(this.cross(r))},t.prototype.isZero=function(){return this.isZeroX()&&this.isZeroY()},t.prototype.isZeroX=function(){return 0===this.x},t.prototype.isZeroY=function(){return 0===this.y},t.prototype.isEqual=function(r){if(!(r instanceof t))throw new TypeError;return this.isEqualX(r)&&this.isEqualY(r)},t.prototype.isEqualX=function(r){if(!(r instanceof t))throw new TypeError;return this.x===r.x},t.prototype.isEqualY=function(r){if(!(r instanceof t))throw new TypeError;return this.y===r.y},t.prototype.isNaN=function(){return this.isNaNX()||this.isNaNY},t.prototype.isNaNX=function(){return isNaN(this.x)},t.prototype.isNaNY=function(){return isNaN(this.y)},t.prototype.isFinite=function(){return this.isFiniteX()||this.isFiniteY()},t.prototype.isFiniteX=function(){return isFinite(this.x)},t.prototype.isFiniteY=function(){return isFinite(this.y)},t.prototype.isEqualRotate=function(r){if(!(r instanceof t))throw new TypeError;return this.rotate.toFixed(2)===r.rotate.toFixed(2)},t.prototype.isEqualInvertRotate=function(r){var n;if(!(r instanceof t))throw new TypeError;return 179.9<(n=Math.abs(this.rotate.toFixed(2)-r.rotate.toFixed()))&&180.1>n},t.prototype.isCollinear=function(r){var n,e,i,o,u;if(!(r instanceof t))throw new TypeError;return this.isZeroX()||this.isZeroY()||r.isZeroX()||r.isZeroY()?(n=this.isZeroX()&&!this.isZeroY()?this.y:this.x,e=r.isZeroX()&&!r.isZeroY()?r.y:r.x,i=e/n,o=this.x*i,u=this.y*i,r.x===o&&r.y===u):this.x/r.x===this.y/r.y},t.prototype.isOrthogonal=function(r){if(!(r instanceof t))throw new TypeError;return this.dot(0===r)},t}(),"undefined"!=typeof module&&null!==module&&null!=module.exports?module.exports=t:window.Vector2d=t}).call(this);